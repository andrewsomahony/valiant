<div ng-if="!isEditing">
   <div class="options">
      <span class="name" ng-bind="model.name"></span>

      <span ng-if="isEditable">
         <a class="left" ng-click="editClicked()">Edit</a>
         <a class="right" ng-click="deleteClicked()">Delete</a>
      </span>   
   </div>

   <div class="list sets">
      <div class="set-container" 
           ng-repeat="set in model.sets">
         <set model="set"
              show-total-when-not-editing="true"
              is-editable="false">
         </set>   
         <div class="running-total" ng-if="$index < editingWorkout.sets.length - 1">
            <span font-awesome-icon-text
                  icon="fa-arrow-right"
                  text="{{getRunningTotal(model, $index)}}">
            </span>                      
         </div>               
      </div>
   </div>

   <div class="total">
      <span font-awesome-icon-text
            icon="fa-arrow-right"
            text="{{model.getTotalDistance()}}">
      </span>                   
   </div> 
</div>

<div ng-if="isEditing" class="edit">
   <div class="options">
      <input class="form-control name" placeholder="Name" type="text" ng-model="editingWorkout.name" />
   </div>
   <div class="list sets">
      <div ng-repeat="set in editingWorkout.sets">
         <set model="set"
            save-button-text="{{set.is_unborn ? 'Add Set' : 'Save'}}"
            cancel-button-text="Cancel"
            on-save-clicked="saveSet(set)"
            on-cancel-clicked="cancelSet(set)"
            on-delete-clicked="deleteSet(set)"
            on-edit-clicked="editSet(set)"
            show-total-when-not-editing="true"
            is-initially-editing="{{set.is_unborn}}"
            can-edit-inline="{{canEditSetsInline}}"
            is-editable="true">
         </set>   
         <div class="running-total"
              ng-if="$index < editingWorkout.sets.length - 1">
            <span font-awesome-icon-text
                  icon="fa-arrow-right"
                  text="{{getRunningTotal(editingWorkout, $index)}}">
            </span>                      
         </div>           
      </div>
      <a ng-click="newSet()">
         <span font-awesome-icon-text
               icon="fa-plus"
               text="Set"></span>
         </span>
      </a>
   </div>

   <div class="total">
      <span font-awesome-icon-text
            icon="fa-arrow-right"
            text="{{editingWorkout.getTotalDistance()}}">
      </span>                   
   </div>

   <div class="bottom-options">
      <a class="left" 
         ng-bind="saveButtonText" 
         ng-click="saveClicked()"></a>
      <a class="right" ng-click="cancelClicked()">Cancel</a>
   </div>

</div>